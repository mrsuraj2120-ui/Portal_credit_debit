<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vendors - Credit/Debit Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="../loader/loader.css">
  <link rel="stylesheet" href="../notifier/notifier.css">
  <link rel="stylesheet" href="../filter/filter.css">
  <link rel="stylesheet" href="../navbar/navbar.css">
</head>

<body class="bg-gray-100 text-gray-800">

<div class="flex">

  <!-- Navbar container (will be filled by JS) -->
  <div id="navbar-container" 
     class="fixed top-0 left-0 h-screen w-[260px] z-50 bg-[#0f1c2f]">
</div>

  <!-- PAGE CONTENT -->
  <main class="flex-1 ml-[260px] p-8 overflow-y-auto">

    <!-- FILTER BOX -->
    <div id="filterBox" class="filter-box hidden">
      <button id="clearColumn" class="clear-column">Clear Filter</button>
      <button id="sortAsc" class="sort-btn">Sort Ascending</button>
      <button id="sortDesc" class="sort-btn">Sort Descending</button>
      <input type="text" id="vendorSearch" placeholder="Search Vendor...">
      <ul id="filterList"></ul>
    </div>


    <!-- GLOBAL LOADER -->
      <div id="pageLoader" class="page-loader">
        <div class="loader-box">
          <div class="ring"></div>
          <div class="center-orb"></div>
          <h2 class="loader-text">Please wait...</h2>
          <p class="loader-sub">Fetching your data</p>
        </div>
      </div>

      <!-- NOTIFIER -->
      <div id="freshToastContainer" class="fresh-toast-container"></div>

    <h1 class="text-2xl font-bold mb-6">Vender Management</h1>

    <!-- Add Vendor Form -->
    <div class="card mb-8 p-6">

      <h2 class="text-xl font-semibold mb-4">Add New Vender</h2>

      <div class="grid grid-cols-2 gap-4">

        <div>
  <label class="text-sm font-medium">Vender Name</label>
  <input type="text" id="vendor_name" class="mt-1 w-full border rounded-lg p-2" placeholder="Vendor Name">
</div>

<div>
  <label class="text-sm font-medium">GSTIN No</label>
  <input type="text" id="gstin" class="mt-1 w-full border rounded-lg p-2" placeholder="GSTIN">
</div>

<div>
  <label class="text-sm font-medium">Contact Person</label>
  <input type="text" id="contact_person" class="mt-1 w-full border rounded-lg p-2" placeholder="Contact Person">
</div>

<div>
  <label class="text-sm font-medium">Email</label>
  <input type="email" id="email" class="mt-1 w-full border rounded-lg p-2" placeholder="Email">
</div>

<div>
  <label class="text-sm font-medium">Phone</label>
  <input type="number" id="phone" class="mt-1 w-full border rounded-lg p-2" placeholder="Phone">
</div>

<div class="col-span-2">
  <label class="text-sm font-medium">Address</label>
  <textarea type="text" id="address" class="mt-1 w-full border rounded-lg p-2" placeholder="Address"></textarea>
</div>


      </div>

      <button id="btnAddVendor"
        class="mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg shadow">
        Add Vender
      </button>

      <button id="btnCancelVendor"
        class="mt-4 ml-3 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg shadow opacity-50 cursor-not-allowed"
        disabled>
        Cancel
      </button>

    </div>

    <!-- Vendors Table -->
    <div class="card p-6">

      <h2 class="text-xl font-semibold mb-4">All Venders</h2>

      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-100 text-left">
            <th class="text-left p-2 filter" data-col="0">Vender Code</th>
            <th class="text-left p-2 filter" data-col="1">Name</th>
            <th class="text-left p-2 filter" data-col="2">GSTIN</th>
            <th class="text-left p-2 filter" data-col="3">Contact Person</th>
            <th class="text-left p-2 filter" data-col="4">Email</th>
            <th class="text-left p-2 filter" data-col="5">Phone</th>
            <th class="text-left p-2 filter" data-col="6">Address</th>
            <th class="text-left p-2 ">Action</th>
          </tr>
        </thead>
        <tbody id="vendorsbody"></tbody>
      </table>

    </div>

</main>
</div>


<!-- JS FILES -->
<script>
  // fetch navbar HTML and insert into #navbar-container
  (async function loadNavbar() {
    try {
      const res = await fetch('/navbar/navbar.html');
      if (!res.ok) {
        console.warn('Navbar load failed:', res.status);
        return;
      }

      const html = await res.text();
      document.getElementById('navbar-container').innerHTML = html;

      // now load navbar behavior script
      const s = document.createElement('script');
      s.src = '/navbar/navbar.js';
      document.body.appendChild(s);

    } catch (e) {
      console.error('Navbar fetch error', e);
    }
  })();
</script>

<script src="../loader/loader.js"></script>
<script src="../notifier/notifier.js"></script>
<script src="../filter/filter.js"></script>
<script src="../navbar/navbar.js"></script>
<script src="../js/venders.js"></script>

</body>
</html>
